{"ast":null,"code":"var _jsxFileName = \"F:\\\\360Downloads\\\\vs2019\\\\Microsoft VS Code\\\\juejin\\\\juejin-react\\\\src\\\\componments\\\\ApiArt\\\\index.js\";\nimport React, { Component } from 'react';\nimport { getArticles } from '../../fake-api';\nimport Datetime from '../Datetime';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ApiArt extends Component {\n  constructor(props) {\n    super(props);\n\n    this.has_more = () => {\n      if (this.state.has_more) {\n        return {};\n      }\n\n      if (!this.state.has_more) {\n        console.log('hhhhhhhhhhhhhhhhhhhhhhh');\n        this.props.has_more();\n      }\n    };\n\n    this.state = {\n      iitem: 0,\n      art: [],\n      has_more: true,\n      ctime: '',\n      cateName: {\n        first_category_name: '',\n        second_category_name: ''\n      },\n      brief_content: '',\n      title: '',\n      cover_image: '',\n      digg_count: 5,\n      comment_count: 8,\n      collect_count: 3,\n      success: false,\n      categoryId: 0,\n      categoryId1: 0\n    };\n    this.api();\n  }\n\n  api() {\n    let _this = this;\n\n    if (this.props.hasmore) {\n      async function helloAsync() {\n        const {\n          iitem,\n          limit,\n          showcate,\n          categoryId1\n        } = _this.props;\n        const categoryId = categoryId1 === 0 ? showcate.categoryId : parseInt(String(showcate.categoryId) + String(categoryId1));\n        const a = await getArticles(categoryId, 'hot', 0, limit); // console.log(_this.props);\n\n        console.log('apiart', categoryId, a);\n        const c = a.has_more;\n\n        if (c) {\n          const b = a.data.articles[iitem].author_user_info.user_name;\n          const f = Datetime(a.data.articles[iitem].article_info.ctime * 1000);\n          const g = a.data.articles[iitem].category_info;\n          const h = a.data.articles[iitem].article_info; // console.log(a.data.articles[0].article_info.ctime);\n          // console.log(g,showcate2);\n\n          const e = [b, '', f, g, h];\n          return e;\n        }\n\n        return [c];\n      }\n\n      helloAsync().then(e => {\n        if (e[2]) {\n          this.setState({\n            art: e[0],\n            ctime: e[2],\n            cateName: {\n              first_category_name: e[3].first_category_name,\n              second_category_name: e[3].second_category_name\n            },\n            brief_content: e[4].brief_content,\n            title: e[4].title,\n            cover_image: e[4].cover_image,\n            collect_count: e[4].view_count,\n            digg_count: e[4].digg_count,\n            comment_count: e[4].comment_count,\n            success: true\n          }, () => {});\n        }\n\n        if (!e[2]) {\n          this.setState({\n            has_more: e[0]\n          });\n        }\n      });\n    }\n  }\n\n  componentWillReceiveProps() {\n    if (this.props.hasmore) {\n      this.api();\n    }\n  }\n\n  render() {\n    const display2 = {\n      width: this.state.cover_image ? '200px' : '335px'\n    };\n    this.has_more();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"apiArt2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"apiArt3\",\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"apiArtul\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"apiArtli\",\n              children: this.state.art\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"apiArtli\",\n              children: this.state.ctime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"apiArtli\",\n              children: [this.state.cateName.first_category_name, \"\\xA0\\xA0\\xB7\\xA0\\xA0\", this.state.cateName.second_category_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"apiArt4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"apiArtspan1\",\n              style: display2,\n              children: this.state.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), this.state.cover_image === \"\" ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 49\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: this.state.cover_image,\n              alt: \"img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 57\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"apiArtspan2\",\n              style: display2,\n              children: this.state.brief_content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"apiArtul\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"apiArtli2\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/img/view.1eda8fa.png\",\n                  alt: \"eye\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 19\n                }, this), \"\\xA0\", this.state.collect_count]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"apiArtli2\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ9SURBVHgB7VZNbtNQEP7GP7AkN8DcoJyA5gRNTwCR2kqsUm9YEKEaoZRl0hUSBLWcAHOCpjdIT1AfIewgTjzM+AccxwHXLRYS/STnvbyxZ743b34e8L+DcEMMhu+fERk7DLTAuAwRjjz3eVD1+xsROD75eARmr7AczDlsVyVhoCbeDt85mXHmqLtkbst0Ko9jk31aVU9tAgvYW7FxYNJ3D85eufuTOZtKYiZu3X4z/LBdRU9tAia4E0+YL7I1z+3OmPEpkWOrip7aBED0RAcb7K8KeBb/alD+LQIa+TI48kxfuAfTVSlVMlybgAafpN1RYgujopwIOzpGEhuogGuloTc8bd2j5TmS8/VfHu7t5uUaeCaRygORPaqi00JFJAVn2UuNa667xXfEeJZ+rePR+Kool7gIQg67+RpBJTvo5QMoZHPXxFLW8Tld2lhoUqMOfg/JlKjdT2Pnpwf0bDlx3worG1EnPlENF0m5OayO5+7NyjRLHXgMfCsNQhumrBviRfRAhnqyu0KAYXmpcX/BfKKekL+dvBIheOUddkuNK7QO6A43ycXDvolYr5OtGTnlD3VU41rVZLdfccvIipMYDdYINAHZZJyicgR+4wQ0hbVH6Px7RBeNE9BM0lGbVxorTRNImhcxf8mvNxcDafOywBM0TUCqqEa/I09QbF6NECDQdjKuN6hGCJSlX2MENqXfGgFKS6hlmA9wi7hvLJ/qWEy/DL96AfMlEXWkU/mD0XiCkjud7kRk56iOltwRYz3ShM7KXlhpx4PheBR3qxzS6zbSi0YtyOZe9919D38ioNC2vIDl6NyQC2bWtzWVomvf93gWwg7KXH+HfwY/AGsn+Lf3Dim6AAAAAElFTkSuQmCC\",\n                  alt: \"like\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 17\n                }, this), \"\\xA0\", this.state.digg_count]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"apiArtli2\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKRSURBVHgB7VZNbtpQEJ55BlR15RvUOUHTG5ATJD1BQ9NU6gq8JKiKoyrJ0u2qUmkFOUGaE5TegJwg7gnqLRh7MvMwwiDbYHCUDZ9kHph5M9+bN38AO+zwzEAoiEv3xz4v/KAFiK/0S6J/qPCBoui+Y38cFlC3HgHH7Zk1FTXZUIt/mivEPVY6GFFw4difPNiWwNW3X+dLhj1iA3JqProXq7EQ8TVoz4A1147OWfPkAjYhcO1+twirt7FSEexPiG4+26cDyMEXt1s3AI7Z+LsZ4TEFB1newBzjf2B6Gi8kaqwyvEpHFgmVtjmxcTgm401R44I2G0M2KjpEV5W9KbG0koC+8znrt47d8GFDCAk+gJCQwNyvwqS1LLNwBbHbHuQ7G99bJ4rXgY4LRPGqz4T2koda8EAERl2zIrory7hArlBnDmdSDSbHyf8WrwDVNHKV0YOyQdGNXhAPMwlgnHKjaHQPJUNBOEjamL9fhI7SMt0/Q3uu08wjoJGWLk+FZQKefLyEwIKSETcxwTCbANFfWQLAIygZCFifrjkEQq73WgixCaUziHWi+p1JIC65Hj/mpdt1oCQkq2u7+f4uk4BAGo8minguFQy2hFRXvlonqTuXgK5aRLqHc/m8vXK7LdgCE6hYskolTGtqqWnYsU+dmITJrnCvv/7sOXKSDVCBiScrJgeVBHInIokDuYqEsB5KQqgMl7uk1A4DwrpCkFLLExL0x1HAWfXCr2H4X2TOWh+wEAGB7pBQcRITzgwymvmxEilcVtp+cX1cfs20Drv2VKyDSVUPI4Ij3lRPEfFJclzXEvIQlXhioZ4QYaNjn/Q3IrAMiQmDA0wB+QGEflr/ENK6xXOXFS8QRQdFx/YdnhyP1D0hcwr1KvEAAAAASUVORK5CYII=\",\n                  alt: \"comments\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 17\n                }, this), \"\\xA0\", this.state.comment_count]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"apiArtli2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["F:/360Downloads/vs2019/Microsoft VS Code/juejin/juejin-react/src/componments/ApiArt/index.js"],"names":["React","Component","getArticles","Datetime","ApiArt","constructor","props","has_more","state","console","log","iitem","art","ctime","cateName","first_category_name","second_category_name","brief_content","title","cover_image","digg_count","comment_count","collect_count","success","categoryId","categoryId1","api","_this","hasmore","helloAsync","limit","showcate","parseInt","String","a","c","b","data","articles","author_user_info","user_name","f","article_info","g","category_info","h","e","then","setState","view_count","componentWillReceiveProps","render","display2","width"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react'\r\nimport { getArticles } from '../../fake-api';\r\nimport Datetime from '../Datetime'\r\n\r\nexport default class ApiArt extends Component{\r\n  constructor(props){ \r\n    super(props)\r\n    this.state = {\r\n      iitem:0,\r\n      art:[],\r\n      has_more:true,\r\n      ctime:'',\r\n      cateName:{\r\n        first_category_name:'',\r\n        second_category_name:''\r\n      },\r\n      brief_content:'',\r\n      title:'',\r\n      cover_image:'',\r\n      digg_count:5,\r\n      comment_count:8,\r\n      collect_count:3,\r\n      success:false,\r\n      categoryId:0,\r\n      categoryId1:0\r\n    }\r\n    this.api()\r\n    }\r\n  api(){\r\n    let _this = this\r\n    if(this.props.hasmore){\r\n    async function helloAsync(){\r\n      const { iitem , limit , showcate , categoryId1 } = _this.props\r\n      \r\n      const categoryId = categoryId1 === 0 ?  showcate.categoryId : parseInt( String(showcate.categoryId)+String(categoryId1))\r\n      const a= await getArticles( categoryId , 'hot' , 0 , limit );\r\n      // console.log(_this.props);\r\n      console.log( 'apiart',categoryId,a);\r\n      \r\n      const c = a.has_more\r\n      if(c){\r\n        const b = a.data.articles[iitem].author_user_info.user_name\r\n        const f = Datetime(a.data.articles[iitem].article_info.ctime*1000)\r\n        const g = a.data.articles[iitem].category_info\r\n        const h = a.data.articles[iitem].article_info\r\n        // console.log(a.data.articles[0].article_info.ctime);\r\n        // console.log(g,showcate2);\r\n        const e = [b,'',f,g,h]\r\n        return e} return [c]\r\n    }\r\n    helloAsync().then((e)=>{if(e[2]){\r\n      this.setState({\r\n        art:e[0],ctime:e[2],\r\n        cateName:{\r\n          first_category_name:e[3].first_category_name,\r\n          second_category_name:e[3].second_category_name},\r\n        brief_content:e[4].brief_content,title:e[4].title,cover_image:e[4].cover_image,collect_count:e[4].view_count,digg_count:e[4].digg_count,comment_count:e[4].comment_count,\r\n        success:true},()=>{}\r\n      )}if(!e[2]){this.setState({has_more:e[0]})}\r\n    })\r\n  }\r\n  }\r\n  componentWillReceiveProps() {\r\n    if(this.props.hasmore){\r\n    this.api()}\r\n  }\r\n  has_more=()=>{\r\n    if(this.state.has_more){return{}}\r\n    if(!this.state.has_more){\r\n      console.log('hhhhhhhhhhhhhhhhhhhhhhh');\r\n      this.props.has_more()}\r\n  }\r\n  render(){\r\n    const display2 = {\r\n      width:this.state.cover_image ? '200px' : '335px'\r\n    }\r\n    this.has_more()\r\n    return (\r\n      <div>\r\n        <div className='apiArt2'>\r\n          <div className='apiArt3'>\r\n            <ul className='apiArtul'>\r\n              <li className='apiArtli'>{this.state.art}</li>\r\n              <li className='apiArtli'>{this.state.ctime}</li>\r\n              <li className='apiArtli'>{this.state.cateName.first_category_name}&nbsp;&nbsp;Â·&nbsp;&nbsp;{this.state.cateName.second_category_name}</li>\r\n            </ul>\r\n            <div className='apiArt4'>\r\n              <span className='apiArtspan1' style={display2}>{this.state.title}</span>\r\n              {this.state.cover_image === \"\" ?  <div/>: <img src={this.state.cover_image} alt=\"img\" />}\r\n              <span className='apiArtspan2' style={display2}>{this.state.brief_content}</span>\r\n              <ul className='apiArtul'>\r\n                <li className='apiArtli2'>\r\n                  <img src=\"//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/img/view.1eda8fa.png\" alt=\"eye\" />\r\n                  &nbsp;{this.state.collect_count}\r\n                </li>\r\n                <li className='apiArtli2'>\r\n                <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ9SURBVHgB7VZNbtNQEP7GP7AkN8DcoJyA5gRNTwCR2kqsUm9YEKEaoZRl0hUSBLWcAHOCpjdIT1AfIewgTjzM+AccxwHXLRYS/STnvbyxZ743b34e8L+DcEMMhu+fERk7DLTAuAwRjjz3eVD1+xsROD75eARmr7AczDlsVyVhoCbeDt85mXHmqLtkbst0Ko9jk31aVU9tAgvYW7FxYNJ3D85eufuTOZtKYiZu3X4z/LBdRU9tAia4E0+YL7I1z+3OmPEpkWOrip7aBED0RAcb7K8KeBb/alD+LQIa+TI48kxfuAfTVSlVMlybgAafpN1RYgujopwIOzpGEhuogGuloTc8bd2j5TmS8/VfHu7t5uUaeCaRygORPaqi00JFJAVn2UuNa667xXfEeJZ+rePR+Kool7gIQg67+RpBJTvo5QMoZHPXxFLW8Tld2lhoUqMOfg/JlKjdT2Pnpwf0bDlx3worG1EnPlENF0m5OayO5+7NyjRLHXgMfCsNQhumrBviRfRAhnqyu0KAYXmpcX/BfKKekL+dvBIheOUddkuNK7QO6A43ycXDvolYr5OtGTnlD3VU41rVZLdfccvIipMYDdYINAHZZJyicgR+4wQ0hbVH6Px7RBeNE9BM0lGbVxorTRNImhcxf8mvNxcDafOywBM0TUCqqEa/I09QbF6NECDQdjKuN6hGCJSlX2MENqXfGgFKS6hlmA9wi7hvLJ/qWEy/DL96AfMlEXWkU/mD0XiCkjud7kRk56iOltwRYz3ShM7KXlhpx4PheBR3qxzS6zbSi0YtyOZe9919D38ioNC2vIDl6NyQC2bWtzWVomvf93gWwg7KXH+HfwY/AGsn+Lf3Dim6AAAAAElFTkSuQmCC\" alt=\"like\" />\r\n                  &nbsp;{this.state.digg_count}\r\n                </li>\r\n                <li className='apiArtli2'>\r\n                <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKRSURBVHgB7VZNbtpQEJ55BlR15RvUOUHTG5ATJD1BQ9NU6gq8JKiKoyrJ0u2qUmkFOUGaE5TegJwg7gnqLRh7MvMwwiDbYHCUDZ9kHph5M9+bN38AO+zwzEAoiEv3xz4v/KAFiK/0S6J/qPCBoui+Y38cFlC3HgHH7Zk1FTXZUIt/mivEPVY6GFFw4difPNiWwNW3X+dLhj1iA3JqProXq7EQ8TVoz4A1147OWfPkAjYhcO1+twirt7FSEexPiG4+26cDyMEXt1s3AI7Z+LsZ4TEFB1newBzjf2B6Gi8kaqwyvEpHFgmVtjmxcTgm401R44I2G0M2KjpEV5W9KbG0koC+8znrt47d8GFDCAk+gJCQwNyvwqS1LLNwBbHbHuQ7G99bJ4rXgY4LRPGqz4T2koda8EAERl2zIrory7hArlBnDmdSDSbHyf8WrwDVNHKV0YOyQdGNXhAPMwlgnHKjaHQPJUNBOEjamL9fhI7SMt0/Q3uu08wjoJGWLk+FZQKefLyEwIKSETcxwTCbANFfWQLAIygZCFifrjkEQq73WgixCaUziHWi+p1JIC65Hj/mpdt1oCQkq2u7+f4uk4BAGo8minguFQy2hFRXvlonqTuXgK5aRLqHc/m8vXK7LdgCE6hYskolTGtqqWnYsU+dmITJrnCvv/7sOXKSDVCBiScrJgeVBHInIokDuYqEsB5KQqgMl7uk1A4DwrpCkFLLExL0x1HAWfXCr2H4X2TOWh+wEAGB7pBQcRITzgwymvmxEilcVtp+cX1cfs20Drv2VKyDSVUPI4Ij3lRPEfFJclzXEvIQlXhioZ4QYaNjn/Q3IrAMiQmDA0wB+QGEflr/ENK6xXOXFS8QRQdFx/YdnhyP1D0hcwr1KvEAAAAASUVORK5CYII=\" alt=\"comments\" />\r\n                  &nbsp;{this.state.comment_count}\r\n                </li>\r\n                <li className='apiArtli2'></li>\r\n              </ul>\r\n            </div>\r\n            \r\n          </div>\r\n        </div>\r\n      </div> \r\n  )}\r\n  \r\n}"]},"metadata":{},"sourceType":"module"}