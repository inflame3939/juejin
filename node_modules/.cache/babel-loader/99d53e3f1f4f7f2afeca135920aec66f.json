{"ast":null,"code":"var _jsxFileName = \"F:\\\\360Downloads\\\\vs2019\\\\Microsoft VS Code\\\\juejin\\\\juejin-react\\\\src\\\\componments\\\\ApiArt\\\\index.js\";\nimport React, { Component } from 'react';\nimport { getArticles } from '../../fake-api';\nimport Datetime from '../Datetime';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ApiArt extends Component {\n  constructor(props) {\n    super(props);\n\n    this.api = () => {\n      let _this = this;\n\n      if (this.props.hasmore) {\n        async function helloAsync() {\n          const {\n            iitem,\n            limit,\n            showcate,\n            categoryId1,\n            sortBy\n          } = _this.props;\n          const categoryId = categoryId1 === 0 ? showcate.categoryId : parseInt(String(showcate.categoryId) + String(categoryId1));\n          const a = await getArticles(categoryId, sortBy, 0, limit); // console.log(_this.props);\n          // console.log( 'apiart',categoryId,a);\n\n          const c = a.has_more;\n\n          if (c) {\n            const b = a.data.articles[iitem].author_user_info.user_name;\n            const f = Datetime(a.data.articles[iitem].article_info.ctime * 1000);\n            const g = a.data.articles[iitem].category_info;\n            const h = a.data.articles[iitem].article_info; // console.log(a.data.articles[0].article_info.ctime);\n            // console.log(g,showcate2);\n\n            const e = [b, '', f, g, h];\n            return e;\n          }\n\n          return [c];\n        }\n\n        helloAsync().then(e => {\n          if (e[2]) {\n            this.setState({\n              art: e[0],\n              ctime: e[2],\n              cateName: {\n                first_category_name: e[3].first_category_name,\n                second_category_name: e[3].second_category_name\n              },\n              brief_content: e[4].brief_content,\n              title: e[4].title,\n              cover_image: e[4].cover_image,\n              collect_count: e[4].view_count,\n              digg_count: e[4].digg_count,\n              comment_count: e[4].comment_count,\n              success: true\n            }, () => {});\n          }\n        });\n      }\n    };\n\n    this.has_more = () => {\n      if (this.state.has_more) {\n        return {};\n      }\n\n      if (!this.state.has_more) {\n        this.props.has_more();\n      }\n    };\n\n    this.state = {\n      iitem: 0,\n      art: [],\n      has_more: true,\n      ctime: '',\n      cateName: {\n        first_category_name: '',\n        second_category_name: ''\n      },\n      brief_content: '',\n      title: '',\n      cover_image: '',\n      digg_count: 5,\n      comment_count: 8,\n      collect_count: 3,\n      success: false,\n      categoryId: 0,\n      categoryId1: 0,\n      sortBy: this.props.sortBy\n    };\n    this.api();\n  }\n\n  static getDerivedStateFromProps() {\n    this.has_more();\n    console.log('object');\n    console.log(this.props.sortBy);\n\n    if (this.props.hasmore) {\n      this.api();\n    }\n  }\n\n  render() {\n    const display2 = {\n      width: this.state.cover_image ? '200px' : '335px'\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"apiArt2\",\n        style: this.state.ctime === '' ? {\n          display: 'none'\n        } : {\n          display: 'block'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"apiArt3\",\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"apiArtul\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"apiArtli\",\n              children: this.state.art\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"apiArtli\",\n              children: this.state.ctime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"apiArtli\",\n              children: [this.state.cateName.first_category_name, \"\\xA0\\xA0\\xB7\\xA0\\xA0\", this.state.cateName.second_category_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"apiArt4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"apiArtspan1\",\n              style: display2,\n              children: this.state.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), this.state.cover_image === \"\" ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 49\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: this.state.cover_image,\n              alt: \"img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 57\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"apiArtspan2\",\n              style: display2,\n              children: this.state.brief_content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"apiArtul\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"apiArtli2\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/img/view.1eda8fa.png\",\n                  alt: \"eye\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this), \"\\xA0\", this.state.collect_count]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"apiArtli2\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ9SURBVHgB7VZNbtNQEP7GP7AkN8DcoJyA5gRNTwCR2kqsUm9YEKEaoZRl0hUSBLWcAHOCpjdIT1AfIewgTjzM+AccxwHXLRYS/STnvbyxZ743b34e8L+DcEMMhu+fERk7DLTAuAwRjjz3eVD1+xsROD75eARmr7AczDlsVyVhoCbeDt85mXHmqLtkbst0Ko9jk31aVU9tAgvYW7FxYNJ3D85eufuTOZtKYiZu3X4z/LBdRU9tAia4E0+YL7I1z+3OmPEpkWOrip7aBED0RAcb7K8KeBb/alD+LQIa+TI48kxfuAfTVSlVMlybgAafpN1RYgujopwIOzpGEhuogGuloTc8bd2j5TmS8/VfHu7t5uUaeCaRygORPaqi00JFJAVn2UuNa667xXfEeJZ+rePR+Kool7gIQg67+RpBJTvo5QMoZHPXxFLW8Tld2lhoUqMOfg/JlKjdT2Pnpwf0bDlx3worG1EnPlENF0m5OayO5+7NyjRLHXgMfCsNQhumrBviRfRAhnqyu0KAYXmpcX/BfKKekL+dvBIheOUddkuNK7QO6A43ycXDvolYr5OtGTnlD3VU41rVZLdfccvIipMYDdYINAHZZJyicgR+4wQ0hbVH6Px7RBeNE9BM0lGbVxorTRNImhcxf8mvNxcDafOywBM0TUCqqEa/I09QbF6NECDQdjKuN6hGCJSlX2MENqXfGgFKS6hlmA9wi7hvLJ/qWEy/DL96AfMlEXWkU/mD0XiCkjud7kRk56iOltwRYz3ShM7KXlhpx4PheBR3qxzS6zbSi0YtyOZe9919D38ioNC2vIDl6NyQC2bWtzWVomvf93gWwg7KXH+HfwY/AGsn+Lf3Dim6AAAAAElFTkSuQmCC\",\n                  alt: \"like\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 17\n                }, this), \"\\xA0\", this.state.digg_count]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"apiArtli2\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKRSURBVHgB7VZNbtpQEJ55BlR15RvUOUHTG5ATJD1BQ9NU6gq8JKiKoyrJ0u2qUmkFOUGaE5TegJwg7gnqLRh7MvMwwiDbYHCUDZ9kHph5M9+bN38AO+zwzEAoiEv3xz4v/KAFiK/0S6J/qPCBoui+Y38cFlC3HgHH7Zk1FTXZUIt/mivEPVY6GFFw4difPNiWwNW3X+dLhj1iA3JqProXq7EQ8TVoz4A1147OWfPkAjYhcO1+twirt7FSEexPiG4+26cDyMEXt1s3AI7Z+LsZ4TEFB1newBzjf2B6Gi8kaqwyvEpHFgmVtjmxcTgm401R44I2G0M2KjpEV5W9KbG0koC+8znrt47d8GFDCAk+gJCQwNyvwqS1LLNwBbHbHuQ7G99bJ4rXgY4LRPGqz4T2koda8EAERl2zIrory7hArlBnDmdSDSbHyf8WrwDVNHKV0YOyQdGNXhAPMwlgnHKjaHQPJUNBOEjamL9fhI7SMt0/Q3uu08wjoJGWLk+FZQKefLyEwIKSETcxwTCbANFfWQLAIygZCFifrjkEQq73WgixCaUziHWi+p1JIC65Hj/mpdt1oCQkq2u7+f4uk4BAGo8minguFQy2hFRXvlonqTuXgK5aRLqHc/m8vXK7LdgCE6hYskolTGtqqWnYsU+dmITJrnCvv/7sOXKSDVCBiScrJgeVBHInIokDuYqEsB5KQqgMl7uk1A4DwrpCkFLLExL0x1HAWfXCr2H4X2TOWh+wEAGB7pBQcRITzgwymvmxEilcVtp+cX1cfs20Drv2VKyDSVUPI4Ij3lRPEfFJclzXEvIQlXhioZ4QYaNjn/Q3IrAMiQmDA0wB+QGEflr/ENK6xXOXFS8QRQdFx/YdnhyP1D0hcwr1KvEAAAAASUVORK5CYII=\",\n                  alt: \"comments\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 17\n                }, this), \"\\xA0\", this.state.comment_count]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"apiArtli2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["F:/360Downloads/vs2019/Microsoft VS Code/juejin/juejin-react/src/componments/ApiArt/index.js"],"names":["React","Component","getArticles","Datetime","ApiArt","constructor","props","api","_this","hasmore","helloAsync","iitem","limit","showcate","categoryId1","sortBy","categoryId","parseInt","String","a","c","has_more","b","data","articles","author_user_info","user_name","f","article_info","ctime","g","category_info","h","e","then","setState","art","cateName","first_category_name","second_category_name","brief_content","title","cover_image","collect_count","view_count","digg_count","comment_count","success","state","getDerivedStateFromProps","console","log","render","display2","width","display"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react'\r\nimport { getArticles } from '../../fake-api';\r\nimport Datetime from '../Datetime'\r\n\r\nexport default class ApiArt extends Component{\r\n  constructor(props){ \r\n    super(props)\r\n    this.state = {\r\n      iitem:0,\r\n      art:[],\r\n      has_more:true,\r\n      ctime:'',\r\n      cateName:{\r\n        first_category_name:'',\r\n        second_category_name:''\r\n      },\r\n      brief_content:'',\r\n      title:'',\r\n      cover_image:'',\r\n      digg_count:5,\r\n      comment_count:8,\r\n      collect_count:3,\r\n      success:false,\r\n      categoryId:0,\r\n      categoryId1:0,\r\n      sortBy:this.props.sortBy\r\n    }\r\n    this.api()\r\n  }\r\n  api=()=>{\r\n    let _this = this\r\n    \r\n\r\n    if(this.props.hasmore){\r\n    async function helloAsync(){\r\n      const { iitem , limit , showcate , categoryId1 , sortBy } = _this.props\r\n      const categoryId = categoryId1 === 0 ?  showcate.categoryId : parseInt( String(showcate.categoryId)+String(categoryId1))\r\n      const a= await getArticles( categoryId , sortBy , 0 , limit );\r\n      // console.log(_this.props);\r\n      // console.log( 'apiart',categoryId,a);\r\n      \r\n      const c = a.has_more\r\n      if(c){\r\n        const b = a.data.articles[iitem].author_user_info.user_name\r\n        const f = Datetime(a.data.articles[iitem].article_info.ctime*1000)\r\n        const g = a.data.articles[iitem].category_info\r\n        const h = a.data.articles[iitem].article_info\r\n        // console.log(a.data.articles[0].article_info.ctime);\r\n        // console.log(g,showcate2);\r\n        const e = [b,'',f,g,h]\r\n        return e} return [c]\r\n    }\r\n    helloAsync().then((e)=>{if(e[2]){\r\n      this.setState({\r\n        art:e[0],ctime:e[2],\r\n        cateName:{\r\n          first_category_name:e[3].first_category_name,\r\n          second_category_name:e[3].second_category_name},\r\n        brief_content:e[4].brief_content,title:e[4].title,cover_image:e[4].cover_image,collect_count:e[4].view_count,digg_count:e[4].digg_count,comment_count:e[4].comment_count,\r\n        success:true},()=>{}\r\n      )}\r\n    })\r\n  }\r\n  }\r\n  static getDerivedStateFromProps() {\r\n    this.has_more()\r\n    console.log('object');\r\n    console.log(this.props.sortBy);\r\n    if(this.props.hasmore){\r\n    this.api()}\r\n  }\r\n  has_more=()=>{\r\n    if(this.state.has_more){return{}}\r\n    if(!this.state.has_more){\r\n      this.props.has_more()}\r\n  }\r\n  render(){\r\n    const display2 = {\r\n      width:this.state.cover_image ? '200px' : '335px'\r\n    }\r\n    \r\n    return (\r\n      <div>\r\n        <div className='apiArt2' style={this.state.ctime===''?{display:'none'}:{display:'block'}}>\r\n          <div className='apiArt3'>\r\n            <ul className='apiArtul'>\r\n              <li className='apiArtli'>{this.state.art}</li>\r\n              <li className='apiArtli'>{this.state.ctime}</li>\r\n              <li className='apiArtli'>{this.state.cateName.first_category_name}&nbsp;&nbsp;Â·&nbsp;&nbsp;{this.state.cateName.second_category_name}</li>\r\n            </ul>\r\n            <div className='apiArt4'>\r\n              <span className='apiArtspan1' style={display2}>{this.state.title}</span>\r\n              {this.state.cover_image === \"\" ?  <div/>: <img src={this.state.cover_image} alt=\"img\" />}\r\n              <span className='apiArtspan2' style={display2}>{this.state.brief_content}</span>\r\n              <ul className='apiArtul'>\r\n                <li className='apiArtli2'>\r\n                  <img src=\"//lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/img/view.1eda8fa.png\" alt=\"eye\" />\r\n                  &nbsp;{this.state.collect_count}\r\n                </li>\r\n                <li className='apiArtli2'>\r\n                <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ9SURBVHgB7VZNbtNQEP7GP7AkN8DcoJyA5gRNTwCR2kqsUm9YEKEaoZRl0hUSBLWcAHOCpjdIT1AfIewgTjzM+AccxwHXLRYS/STnvbyxZ743b34e8L+DcEMMhu+fERk7DLTAuAwRjjz3eVD1+xsROD75eARmr7AczDlsVyVhoCbeDt85mXHmqLtkbst0Ko9jk31aVU9tAgvYW7FxYNJ3D85eufuTOZtKYiZu3X4z/LBdRU9tAia4E0+YL7I1z+3OmPEpkWOrip7aBED0RAcb7K8KeBb/alD+LQIa+TI48kxfuAfTVSlVMlybgAafpN1RYgujopwIOzpGEhuogGuloTc8bd2j5TmS8/VfHu7t5uUaeCaRygORPaqi00JFJAVn2UuNa667xXfEeJZ+rePR+Kool7gIQg67+RpBJTvo5QMoZHPXxFLW8Tld2lhoUqMOfg/JlKjdT2Pnpwf0bDlx3worG1EnPlENF0m5OayO5+7NyjRLHXgMfCsNQhumrBviRfRAhnqyu0KAYXmpcX/BfKKekL+dvBIheOUddkuNK7QO6A43ycXDvolYr5OtGTnlD3VU41rVZLdfccvIipMYDdYINAHZZJyicgR+4wQ0hbVH6Px7RBeNE9BM0lGbVxorTRNImhcxf8mvNxcDafOywBM0TUCqqEa/I09QbF6NECDQdjKuN6hGCJSlX2MENqXfGgFKS6hlmA9wi7hvLJ/qWEy/DL96AfMlEXWkU/mD0XiCkjud7kRk56iOltwRYz3ShM7KXlhpx4PheBR3qxzS6zbSi0YtyOZe9919D38ioNC2vIDl6NyQC2bWtzWVomvf93gWwg7KXH+HfwY/AGsn+Lf3Dim6AAAAAElFTkSuQmCC\" alt=\"like\" />\r\n                  &nbsp;{this.state.digg_count}\r\n                </li>\r\n                <li className='apiArtli2'>\r\n                <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKRSURBVHgB7VZNbtpQEJ55BlR15RvUOUHTG5ATJD1BQ9NU6gq8JKiKoyrJ0u2qUmkFOUGaE5TegJwg7gnqLRh7MvMwwiDbYHCUDZ9kHph5M9+bN38AO+zwzEAoiEv3xz4v/KAFiK/0S6J/qPCBoui+Y38cFlC3HgHH7Zk1FTXZUIt/mivEPVY6GFFw4difPNiWwNW3X+dLhj1iA3JqProXq7EQ8TVoz4A1147OWfPkAjYhcO1+twirt7FSEexPiG4+26cDyMEXt1s3AI7Z+LsZ4TEFB1newBzjf2B6Gi8kaqwyvEpHFgmVtjmxcTgm401R44I2G0M2KjpEV5W9KbG0koC+8znrt47d8GFDCAk+gJCQwNyvwqS1LLNwBbHbHuQ7G99bJ4rXgY4LRPGqz4T2koda8EAERl2zIrory7hArlBnDmdSDSbHyf8WrwDVNHKV0YOyQdGNXhAPMwlgnHKjaHQPJUNBOEjamL9fhI7SMt0/Q3uu08wjoJGWLk+FZQKefLyEwIKSETcxwTCbANFfWQLAIygZCFifrjkEQq73WgixCaUziHWi+p1JIC65Hj/mpdt1oCQkq2u7+f4uk4BAGo8minguFQy2hFRXvlonqTuXgK5aRLqHc/m8vXK7LdgCE6hYskolTGtqqWnYsU+dmITJrnCvv/7sOXKSDVCBiScrJgeVBHInIokDuYqEsB5KQqgMl7uk1A4DwrpCkFLLExL0x1HAWfXCr2H4X2TOWh+wEAGB7pBQcRITzgwymvmxEilcVtp+cX1cfs20Drv2VKyDSVUPI4Ij3lRPEfFJclzXEvIQlXhioZ4QYaNjn/Q3IrAMiQmDA0wB+QGEflr/ENK6xXOXFS8QRQdFx/YdnhyP1D0hcwr1KvEAAAAASUVORK5CYII=\" alt=\"comments\" />\r\n                  &nbsp;{this.state.comment_count}\r\n                </li>\r\n                <li className='apiArtli2'></li>\r\n              </ul>\r\n            </div>\r\n            \r\n          </div>\r\n        </div>\r\n      </div> \r\n  )}\r\n  \r\n}"]},"metadata":{},"sourceType":"module"}